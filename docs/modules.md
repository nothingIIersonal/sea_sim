# Модули

## Концепция
---

Модули представляют собой динамические библиотеки. Подгрузившись в приложение, они начинают свою работу.

<br>

## Архитектура модулей
---

Модуль включает в себя три основные функции - функция инициализации (<b>init</b>), функция однократной обработки (<b>exec</b>), горячая функция (<b>hot</b>) и функция выхода (<b>exit</b>). Каждая из этих функций получат в качестве аргумента объект типа "<b>Interconnect  &&</b>". С помощью этого объекта происходит любое взаимодействие с приложением. Данный объект в любую другую функцию нужно передавать <b>только по ссылке</b>.

<br>

### Подробнее о функциях
---
<br>

#### Функция <b>init</b>
---

Задача функции <b>init</b> заключается в начальной инициализации модуля. Это может быть, например, отображение интерфейса для ввода пользовательских данных или создание стартовых кораблей.

<br>

#### Функция <b>exec</b>
---

Функция <b>exec</b> вызывается при нажатии на любую кнопку в отображенном пользовательском интерфейсе ввода. Например, в функции <b>init</b> можно задать список для выбора корабля и кнопку подтверждения выбора. При нажатии на эту кнопку как раз и будет вызвана функция <b>exec</b>. Внутри этой функции можно узнать, от какой кнопки был сделан вызов и в соответствии с этой информацией выполнить нужную логику - например, вывести всю инфомарцию о выбранном судне в область пользовательского вывода.

<br>

#### Функция <b>hot</b>
---

Эта функция вызывается каждый кадр. В неё можно поместить логику рассчёта нового положения корабля и логику рендера объектов. 

<br>

#### Функция <b>exit</b>
---

Эта функция вызывается при выгрузке модуля. В неё можно поместить логику освобождения выделенной памяти, уничтожения объектов и всего остального, чего не должно остаться после извлечения модуля. 

<br>

### Про <b>Interconnect</b>
---

Объект <b>Interconnect</b> включает в себя следующие важные объекты:
- <b>wgti</b> - этот объект позволяет составлять интерфейс пользовательского ввода;
- <b>wgto</b> - этот объект позволяет составлять интерфейс пользовательского вывода;
- <b>render</b> - этот объект позволяет рисовать графические объекты (в том числе устанавливать цвет рисуемым объектам);
- <b>environment</b> - этот объект содержит в себе общие для всех модулей данные, такие как, например, текущая позиция курсора, скорость симулации и так далее;
- <b>ships</b> - этот объект позволяет управлять суднами.

<br>

#### Объект <b>wgti</b>
---

<br>

| Метод | Аргументы | Описание |
| - | - | - |
| void set_module_ttile() | <b>const std::string& title</b> - имя модуля | Установка названия модуля |
| void sameline() | - | Не переводить следующий виджет на новую строку |
| void add_text() | <b>const std::string& text</b> - текст  | Добавление виджета текста |
| void add_button() | <b>const std::string& identifier</b> - идентификатор; <br><br> <b>const std::string& text</b> - текст на кнопке | Добавление виджета кнопки |
| - | - | - |